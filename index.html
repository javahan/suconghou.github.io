<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<meta name='renderer' content='webkit'><meta name='viewport' content='width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no'>
	<title> &middot; </title>
	<link rel="stylesheet" type="text/css" href="/css/style.min.css">
	<link href="" rel="alternate" type="application/rss+xml" title="" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
	<link rel="shortcut icon" href="/favicon.png">
</head>
<body>
<header class="header">
	<div class="header-main">
		<a href="/"><img src="/img/avatar.jpg" class="header-avatar"></a>
		<h1> 苏苏的博客</h1>
		<p class="sub-title">简约至极</p>
		<ul class="contact">
			<a href="https://github.com/suconghou" target="_blank"><i class="fa fa-github"></i></a>
			<a href="javascript:music.show(1)"><i class="fa fa-music"></i></a>
		</ul>
	</div>
</header>

<aside></aside>

<div class="content container">
	<div class="posts">
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/linux/"> linux相关操作</a>
			</h1>
			<p class="post-date">Thu, Jan 21, 2016</p>
			
			<div class="post-text">
				 

<h2 id="linux实用命令:34fe9f2d9cc3cd7e319ca75e7da08332">Linux实用命令</h2>

<h2 id="w:34fe9f2d9cc3cd7e319ca75e7da08332">w</h2>

<p><code>w</code>命令能容清晰的显示,服务器在线时间,负载以及当前登陆的用户</p>

<h2 id="vmstat:34fe9f2d9cc3cd7e319ca75e7da08332">vmstat</h2>

<p><code>vmstat</code> 显示开机以来的平均值，而不是前一秒的值
<code>vmstat 1</code>命令指定一个参数 1 运行，来打印每一秒的统计摘要.
这些列代表的信息:</p>

<blockquote>
<p>r：CPU 中正在运行和等待运行的进程的数量。其提供了一个比平均负载更好的信号来确定 CPU 是否饱和，因为其不包含 I/O。解释：&rdquo;r&rdquo;的值大于了 CPU 的数量就表示已经饱和了。
free：以 kb 为单位显式的空闲内存。如果数字位数很多，说明你有足够的空闲内存。&rdquo;free -m&rdquo; 命令，是下面的第七个命令，其可以更好的说明空闲内存的状态。
si, so：Swap-ins 和 swap-outs。如果它们不是零，则代表你的内存不足了。
us, sy, id, wa, st：这些都是平均了所有 CPU 的 CPU 分解时间。它们分别是用户时间（user）、系统时间（内核）（system）、空闲（idle）、等待 I/O（wait）、以及占用时间（stolen）（被其他访客，或使用 Xen，访客自己独立的驱动域）。</p>
</blockquote>

<p>CPU 分解时间将会通过用户时间加系统时间确认 CPU 是否为忙碌状态。等待 I/O 的时间一直不变则表明了一个磁盘瓶颈；这就是 CPU 的闲置，因为任务都阻塞在等待挂起磁盘 I/O 上了。你可以把等待 I/O 当成是 CPU 闲置的另一种形式，其给出了为什么 CPU 闲置的一个线索。
对于 I/O 处理来说，系统时间是很重要的。一个高于 20% 的平均系统时间，可以值得进一步的探讨：也许内核在处理 I/O 时效率太低了。</p>

<h2 id="top:34fe9f2d9cc3cd7e319ca75e7da08332">top</h2>

<h2 id="free:34fe9f2d9cc3cd7e319ca75e7da08332">free</h2>

<h2 id="磁盘相关:34fe9f2d9cc3cd7e319ca75e7da08332">磁盘相关</h2>

<h3 id="dd:34fe9f2d9cc3cd7e319ca75e7da08332">dd</h3>

<p><code>dd</code>把指定的输入文件拷贝到指定的输出文件中,并且在拷贝的过程中可以进行格式转换。</p>

<p>if =输入文件(或设备名称)
of =输出文件(或设备名称)
bs = bytes 同时设置读/写缓冲区的字节数(等于设置obs和obs)
count = blocks 只拷贝输入的blocks块</p>

<p>创建一个100M的空文件
<code>dd if=/dev/zero of=hello.txt bs=100M count=1</code></p>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/play-with-raspberrypi/"> 玩转树莓派</a>
			</h1>
			<p class="post-date">Sun, Jan 17, 2016</p>
			
			<div class="post-text">
				 

<h2 id="安装其他操作系统:639f3845c6db751dcd1753d9faad824e">安装其他操作系统</h2>

<h3 id="centos:639f3845c6db751dcd1753d9faad824e">CentOS</h3>

<p>CentOS7官方支持了AMRV7发布了树莓派2、香蕉派、以及CubitTruck单片机的版本</p>

<p><a href="http://mirror.centos.org/altarch/7/isos/armhfp/">CentOS7官方下载</a>
root 密码 centos</p>

<h3 id="archlinux:639f3845c6db751dcd1753d9faad824e">ArchLinux</h3>

<p><a href="http://archlinuxarm.org/platforms/armv7/broadcom/raspberry-pi-2">armv7 raspberry-pi-2</a></p>

<p><a href="http://archlinuxarm.org/platforms/armv6/raspberry-pi">armv6 raspberry-pi</a></p>

<h2 id="安装osmc:639f3845c6db751dcd1753d9faad824e">安装OSMC</h2>

<p><a href="http://software.opensuse.org/download.html?project=home:osmc&amp;package=osmc-installer&amp;hcolor=17394a&amp;fcolor=17394a&amp;acolor=17394a">osmc-installer</a></p>

<p>或者安装OSMC转为树莓派制作的系统</p>

<p><a href="https://osmc.tv/download/">下载一览</a>,选择<code>Disk images</code>,此系统较省资源,默认开机进入OSMC,img.gz 大小约160M</p>

<h2 id="安装openelec:639f3845c6db751dcd1753d9faad824e">安装openelec</h2>

<p><a href="http://openelec.tv/get-openelec">openelec</a> 镜像下载, img.gz 大小约102M</p>

<h2 id="播放器皮肤推荐:639f3845c6db751dcd1753d9faad824e">播放器皮肤推荐</h2>

<p>除了OSMC默认皮肤,还有一些好看的皮肤推荐</p>

<p>1.<a href="http://forum.kodi.tv/showthread.php?tid=187071">Eminence</a></p>

<p>2.<a href="http://forum.kodi.tv/showthread.php?tid=214146">Bello</a> 看github,支持中文</p>

<p><a href="http://forum.kodi.tv/forumdisplay.php?fid=26">官方论坛</a></p>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/homebrew-speedup/"> 使用镜像加速homebrew</a>
			</h1>
			<p class="post-date">Fri, Jan 15, 2016</p>
			
			<div class="post-text">
				 <p><a href="http://mirrors.ustc.edu.cn/">中国科大镜像站</a> 提供 Debian, Ubuntu, Fedora, Archlinux, CentOS 等多个发行版的官方源.
还有brew 的二进制源,brew使用此配置能大大提升速度.</p>

<pre><code>cd /usr/local
git remote set-url origin git://mirrors.ustc.edu.cn/homebrew.git
git remote -v
brew update
</code></pre>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/broswer-chrome/"> Chrome浏览器安装</a>
			</h1>
			<p class="post-date">Thu, Jan 14, 2016</p>
			
			<div class="post-text">
				 

<h2 id="配置chrome跨域:e0e57fba433e8be9bf422a453002b0ab">配置Chrome跨域</h2>

<p>Chrome 浏览器配置可以跨域</p>

<p><code>/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --disable-web-security</code></p>

<p>或者</p>

<p><code>open -a &quot;Google Chrome&quot; --args --disable-web-security</code></p>

<p>必须完全退出Chrome,再使用上述方法.</p>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/use-crontab-in-your-server/"> Crontab与自动备份</a>
			</h1>
			<p class="post-date">Tue, Jan 12, 2016</p>
			
			<div class="post-text">
				 

<h2 id="crontab使用:821b39f3c5e329d9ee0933de8bb69bfb">Crontab使用</h2>

<p><code>crontab -l</code> 查看当前用户的crontab列表
使用<code>crontab -e</code>开始编辑规则</p>

<pre><code>基本格式 :
*　　*　　*　　*　　*　　command
分　时　日　月　周　命令


* 第1列表示分钟1～59 每分钟用*或者*/1表示
* 第2列表示小时1～23（0表示0点）
* 第3列表示日期1～31
* 第4列表示月份1～12
* 第5列标识号星期0～6（0表示星期天）
* 第6列要运行的命令
</code></pre>

<p>禁止Crontab产生邮件:
在crontab末尾加上<code>&gt; /dev/null 2&gt;&amp;1</code> 或者 <code>&gt; &amp;&gt; /dev/null</code></p>

<p>例如</p>

<pre><code>0 1 5 10 * /path/to/script.sh &gt; /dev/null 2&gt;&amp;1
0 1 5 10 * /path/to/script.sh &gt; &amp;&gt; /dev/null
</code></pre>

<h2 id="定时备份数据库:821b39f3c5e329d9ee0933de8bb69bfb">定时备份数据库</h2>

<p>先写好shell脚本存入<code>/home/cron1.sh</code></p>

<pre><code>user=&quot;root&quot;
pass=&quot;root&quot;
host=&quot;127.0.0.1&quot;
dbs=&quot;db1 db2 db3&quot;
dir=&quot;/data/backup/&quot;

nowDate=`date '+%Y%m%d'`
nowTime=`date '+%H%M'`
backupdir=$dir$nowDate
timeold=`date -d &quot;-1 week&quot; +%Y%m%d`
delold=$dir$timeold
if [ ! -d $backupdir ]; then
  mkdir -p $backupdir
fi
if [ -d $delold ]; then
  rm -rf $delold
fi
for i in $dbs
	do
		mysqldump -u$user -p$pass -h$host --databases $i &gt; $backupdir/$i-$nowTime.sql
	done

</code></pre>

<p>然后定时任务<code>crontab -e</code> 每5个小时备份一次数据库,建议每20个小时以内备份一次数据库</p>

<pre><code>0 5/* * * * sh /home/cron1.sh
</code></pre>

<h2 id="shell基本语法:821b39f3c5e329d9ee0933de8bb69bfb">Shell基本语法</h2>

<p>声明数组</p>

<p><code>arr=(item1 item2 item3)</code> 使用空格分开</p>

<p>使用<code>echo ${arr[*]}</code> 或者 <code>echo ${arr[@]}</code> 可以查看数组内的元素,<code>echo $arr</code>只能取得第一个元素</p>

<p>要取得数组长度,只需在名字前面加一个#,如<code>echo ${#arr[*]}</code> 或者 <code>echo ${#arr[@]}</code></p>

<p>数组下标以0开始,取得第二个元素为<code>echo ${arr[1]}</code></p>

<p>赋值使用<code>arr[5]=5555</code></p>

			</div>
		</div>
		
	</div>
	<nav>
		
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        class="disabled">
        <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        class="active"><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        ><a href="/page/4/">4</a></li>
        
        <li
        >
        <a href="/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
	</nav>
</div>
	<div class="music-container">
	<div class="music-header">
	    <a class="fa-button home" href="javascript:music.show(0)"><i class="fa fa-home" title="Home"></i></a>
	    <a class="fa-button next" href="javascript:music.next()"><i class="fa fa-chevron-right" title="Next"></i></a>
	</div>
	<div class="backdrop"></div>
	<div class="music-player">
		<div class="cover">
            <img src="http://p4.music.126.net/ckfEE9UUGcnGHylQJ12ENA==/670702092966093.jpg?param=350y350">
            <div class="foredrag"><i class="fa fa-play"></i></div>
        </div>
        <div class="progress">
            <div class="elapse"></div>
        </div>
        <div class="detail">
            <div class="title">音乐标题</div>
            <div class="artist">歌手</div>
        </div>
	</div>
</div>
<div id="loader" style="z-index:99999;" class="pageload-overlay" data-opening="M 40 -21.875 C 11.356078 -21.875 -11.875 1.3560784 -11.875 30 C -11.875 58.643922 11.356078 81.875 40 81.875 C 68.643922 81.875 91.875 58.643922 91.875 30 C 91.875 1.3560784 68.643922 -21.875 40 -21.875 Z">
    <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 80 60" preserveAspectRatio="xMidYMid slice"> <path d="M40,30 c 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 Z"/></svg>
</div>

	<footer class="footer">
		<div class="footer-nav">
			<ul>
				<li><a href="/post/">归档</a></li>
				<li><a href="/">专题</a></li>
				<li><a href="/life/">生活</a></li>
				<li><a href="/about/">关于</a></li>
			</ul>
		</div>
	</footer>
	<script type="text/javascript" src="/js/main.min.js" data-no-instant></script>
</body>
</html>

