<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<meta name='renderer' content='webkit'><meta name='viewport' content='width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no'>
	<title> &middot; </title>
	<link rel="stylesheet" type="text/css" href="/css/style.min.css">
	<link href="" rel="alternate" type="application/rss+xml" title="" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
	<link rel="shortcut icon" href="/favicon.png">
</head>
<body>
<header class="header">
	<div class="header-main">
		<a href="/"><img src="/img/avatar.jpg" class="header-avatar"></a>
		<h1> 苏苏的博客</h1>
		<p class="sub-title">简约至极</p>
		<ul class="contact">
			<a href="https://github.com/suconghou" target="_blank"><i class="fa fa-github"></i></a>
			<a href="javascript:music.show(1)"><i class="fa fa-music"></i></a>
		</ul>
	</div>
</header>

<aside></aside>

<div class="content container">
	<div class="posts">
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/linux-download-tools/"> Linux下常用的下载利器</a>
			</h1>
			<p class="post-date">Fri, Jan 1, 2016</p>
			
				<p class="post-tags">
				
					<a href="/tags/download">#download</a>
				
					<a href="/tags/linux">#linux</a>
				
				</p>
			
			<div class="post-text">
				 

<h2 id="wget:d42214d24013398e63cb86bbdfbd2d55">wget</h2>

<p><code>wget -c -O filename &quot;http://xx.com&quot;</code> 下载存储到指定文件,并指定断点续传
<code>wget -nc -c -i url.txt</code> 批量下载文件中指定的资源(每行一个连接),跳过已下载的(同名的),并且断点续传.</p>

<h2 id="curl:d42214d24013398e63cb86bbdfbd2d55">curl</h2>

<p>常用的命令</p>

<p><code>curl http://xx.com</code> 只获取http消息正文</p>

<p><code>curl -I http://xx.com</code> 只获取http消息头</p>

<p><code>curl -i http://xx.com</code> 获取http消息头和正文</p>

<p><code>curl -d &quot;name=abc&amp;pass=123&quot; http://xx.com</code> 发送<code>http post</code>请求,采用的是<code>application/x-www-form-urlencoded</code>形式</p>

<p><code>curl -F &quot;name=abc&quot; -F &quot;pass=123&quot; http://xx.com</code> 发送<code>http post</code>请求,采用的是<code>multipart/form-data</code> 形式,此两种方式都可以由 $_POST 接收</p>

<p><code>curl -F &quot;name=abc&quot; -F &quot;file=@/tmp/1.jpg&quot; http://xx.com</code> 发送 <code>http post</code>请求, <code>multipart/form-data</code> 形式还可以上传文件,只需改为@加路径</p>

<p>curl 不仅能用来下载,还是网络调试的利器,Chrome的网络请求也可以直接另存为curl请求格式</p>

<h2 id="axel:d42214d24013398e63cb86bbdfbd2d55">Axel</h2>

<p>下载速度最快,分段下载速度优异
<code>axel -n 30 -a -o localfilename http://xx.com/downloadfile</code> 30个线程分段下载,存储为localfilename
参数<code>-a</code>更新进度条而不是每次都输出
参数<code>-H</code> 添加header,参数<code>-U</code>设定<code>user-agent</code></p>

<h2 id="aria2c:d42214d24013398e63cb86bbdfbd2d55">Aria2c</h2>

<p>aria2c支持多种协议,<code>URI</code> <code>MAGNET</code> <code>TORRENT_FILE</code> <code>METALINK_FILE</code>,也支持axel类似的分段下载</p>

<p><code>aria2c -s 30 -c -o localfilename http://xx.com/downloadfile</code> 30个线程分段下载,存储为localfilename,并断点续传</p>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/install-php7/"> 安装PHP7和NGINX</a>
			</h1>
			<p class="post-date">Fri, Jan 1, 2016</p>
			
				<p class="post-tags">
				
					<a href="/tags/php">#php</a>
				
					<a href="/tags/nginx">#nginx</a>
				
				</p>
			
			<div class="post-text">
				 

<h2 id="编译安装nginx:d4cb4e734d41e78905840ce77b949d35">编译安装NGINX</h2>

<p>首先安装一些依赖</p>

<pre><code>yum -y install gcc make autoconf automake install zlib zlib-devel openssl openssl-devel pcre-devel
</code></pre>

<p>编译安装</p>

<pre><code>wget http://nginx.org/download/nginx-1.9.9.tar.gz
tar -zxvf nginx-1.9.9.tar.gz
cd nginx-1.9.9
./configure
make &amp;&amp; make install
</code></pre>

<h2 id="编译安装php7:d4cb4e734d41e78905840ce77b949d35">编译安装PHP7</h2>

<p>最好先<code>yum update</code>一下,再安装以下依赖</p>

<pre><code>yum install -y git wget curl curl-devel gcc gcc-c++ libmarypt cmake libxml2  autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libpng libpng-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses curl openssl-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp-devel readline-devel libxslt-devel expat-devel xmlrpc-c xmlrpc-c-devel
</code></pre>

<p>下载PHP7最新版本,解压,有多重压缩格式可选,其中xz最小</p>

<pre><code>wget http://php.net/distributions/php-7.0.2.tar.xz
xz -d php-7.0.2.tar.xz
tar -xvf php-7.0.2.tar
cd php-7.0.2
</code></pre>

<p>编译之前,可以开启O3编译优化,生成的可执行文件更小,性能更好
<code>export CFLAGS=&quot;-O3&quot;</code></p>

<p>包含部分常用扩展的编译</p>

<pre><code>./configure --prefix=/tmp --with-config-file-path=/etc --enable-sockets --enable-ftp --enable-bcmath --enable-zip --enable-mbstring --with-iconv --with-pdo-mysql --with-curl --with-gd
</code></pre>

<p>功能更全的编译</p>

<pre><code>export CFLAGS=&quot;-O3&quot;
./configure --prefix=/usr/local --with-config-file-path=/etc --enable-opcache --enable-fpm --enable-sockets --enable-ftp --enable-bcmath --enable-pcntl --enable-posix --enable-zip --enable-mbstring --with-iconv --with-pdo-mysql --with-curl --with-gd  --with-openssl --with-mcrypt

make &amp;&amp; make install
</code></pre>

<p>其中部分步骤可能需要root权限</p>

<h3 id="可能出现的错误:d4cb4e734d41e78905840ce77b949d35">可能出现的错误</h3>

<p>1.curl未安装
执行</p>

<pre><code>yum install curl-devel
</code></pre>

<p>或者</p>

<pre><code>sudo apt-get install curl libcurl3 libcurl3-dev
</code></pre>

<p>然后再次尝试编译</p>

<p>2.需要安装libcrytpt</p>

<pre><code>wget ftp://mcrypt.hellug.gr/pub/crypto/mcrypt/attic/libmcrypt/libmcrypt-2.5.7.tar.gz
</code></pre>

<p>安装：</p>

<pre><code>tar -zxvf libmcrypt-2.5.7.tar.gz
cd libmcrypt-2.5.7
mkdir -p /usr/local/libmcrytpt
./configure prefix=/usr/local/libmcrytpt/
make &amp;&amp; make install
</code></pre>

<p>然后重新编译,设定编译参数mcrypt指定路径:
<code>--with-mcrypt=/usr/local/libmcrytpt/</code></p>

<p>提示: make 可使用多核提升编译性能
用make -j带一个参数，可以把项目进行并行编译，比如在一台双核的机器上，完全可以用<code>make -j4</code>，让make最多允许4个编译命令同时执行，这样可以更有效的利用CPU资源。</p>

<p>-O这个选项控制所有的优化等级。使用优化选项会使编译过程耗费更多的时间，并且占用更多的内存，尤其是在提高优化等级的时候。
-O2是推荐的优化等级,O3是最高等级。如果编译软件出现错误，请先检查是否启用了-O3</p>

<p>PHP的数据库长连接有没有效,
实际测试,采用香港服务器远程连接mysql,非长连接模式下耗时约600ms,使用PDO长连接,耗时下降到260ms左右,是有一定作用的.
但是长连接不适用于CLI模式,CLI模式下,php进程退出,连接即断开.</p>

<h2 id="安装mariadb:d4cb4e734d41e78905840ce77b949d35">安装MariaDB</h2>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/post/start-your-blog-with-hugo/"> 使用hugo搭建静态博客</a>
			</h1>
			<p class="post-date">Fri, Jan 1, 2016</p>
			
				<p class="post-tags">
				
					<a href="/tags/blog">#blog</a>
				
				</p>
			
			<div class="post-text">
				 

<h2 id="什么是hugo:c9ea3f3791a768b68d4b792937e3f14b">什么是hugo</h2>

<p>Hugo是用Go语言编写的静态网站生成器,与此类似的工具还有Hexo,相比Hexo,他的编译速度更快,而易于使用,主要表现在:</p>

<p>1.无依赖,无论是Linux环境,还是MacOs,Windows,下载一个二进制的可执行文件即可使用</p>

<p>2.即时刷新,无论是对于文章还是对于样式的修改都能够自动重新编译,自动刷新,无需配置,当你修改了文章,切换回浏览器,看到的已经是新页面了.</p>

<p>3.主题丰富,易于定制,编写一个主题十分简单,</p>

<h2 id="如何使用:c9ea3f3791a768b68d4b792937e3f14b">如何使用</h2>

<p>huogo 是开源的,在<a href="https://github.com/spf13/hugo/releases">github</a>上下载即可.</p>

<p>1.基本命令</p>

<ul>
<li><p>新建一个站点/初始化 <code>hugo new site /path/myblog</code></p></li>

<li><p>开启http服务器并指定使用主题 <code>hugo server --theme=su --buildDrafts --watch</code></p></li>
</ul>

			</div>
		</div>
		
		<div class="post">
			<h1 class="post-title">
				<a href="http://blog.suconghou.cn/about/"> 关于</a>
			</h1>
			<p class="post-date">Fri, Jan 1, 2016</p>
			
			<div class="post-text">
				 

<h2 id="关于:6083a88ee3411b0d17ce02d738f69d47">关于</h2>

			</div>
		</div>
		
	</div>
	<nav>
		
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="/page/3/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        ><a href="/page/3/">3</a></li>
        
        <li
        class="active"><a href="/page/4/">4</a></li>
        
        <li
        class="disabled">
        <a href="" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
	</nav>
</div>
	<div class="music-container">
	<div class="music-header">
	    <a class="fa-button home" href="javascript:music.show(0)"><i class="fa fa-home" title="Home"></i></a>
	    <a class="fa-button next" href="javascript:music.next()"><i class="fa fa-chevron-right" title="Next"></i></a>
	</div>
	<div class="backdrop"></div>
	<div class="music-player">
		<div class="cover">
            <img src="http://p4.music.126.net/ckfEE9UUGcnGHylQJ12ENA==/670702092966093.jpg?param=350y350">
            <div class="foredrag"><i class="fa fa-play"></i></div>
        </div>
        <div class="progress">
            <div class="elapse"></div>
        </div>
        <div class="detail">
            <div class="title">音乐标题</div>
            <div class="artist">歌手</div>
        </div>
	</div>
</div>
<div id="loader" style="z-index:99999;" class="pageload-overlay" data-opening="M 40 -21.875 C 11.356078 -21.875 -11.875 1.3560784 -11.875 30 C -11.875 58.643922 11.356078 81.875 40 81.875 C 68.643922 81.875 91.875 58.643922 91.875 30 C 91.875 1.3560784 68.643922 -21.875 40 -21.875 Z">
    <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 80 60" preserveAspectRatio="xMidYMid slice"> <path d="M40,30 c 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 Z"/></svg>
</div>

	<footer class="footer">
		<div class="footer-nav">
			<ul>
				<li><a href="/post/">归档</a></li>
				<li><a href="/">专题</a></li>
				<li><a href="/life/">生活</a></li>
				<li><a href="/about/">关于</a></li>
			</ul>
		</div>
	</footer>
	<script type="text/javascript" src="/js/main.min.js" data-no-instant></script>
</body>
</html>

